var StyleListener=function(){function a(a){"undefined"==typeof a&&(a={}),this.element=null,this.elementId="",this.trigger={},this.pollFreq=250,this.isPolling=!1,this.prevStyle="",this.callback=null,"number"==typeof a.pollFreq&&a.pollFreq>0&&(this.pollFreq=a.pollFreq),"object"==typeof a.element?this.element=a.element:"string"==typeof a.elementId&&(this.elementId=a.elementId,this.element=document.getElementById(this.elementId)),"object"==typeof a.trigger&&(this.trigger=a.trigger),"function"==typeof a.callback&&(this.callback=a.callback)}return a.prototype.init=function(){var a=this;a.isValid()&&(a.sanitize(),a.trackStyle(),!a.isWebkit()&&a.getElement().addEventListener?a.getElement().addEventListener("DOMAttrModified",function(b){a.listen(b)},!1):(a.isPolling=!0,a.poll()))},a.prototype.sanitize=function(){var a=this,b=a.trigger;a.trigger={};for(prop in b)a.trigger[prop.toLowerCase()]="string"==typeof b[prop]?b[prop].toLowerCase():b[prop]},a.prototype.trackStyle=function(){var a=this;a.prevStyle=a.getElement().getAttribute("style")},a.prototype.poll=function(){var a=this;setTimeout(function(){a.getElement()&&a.getElement().getAttribute("style")?a.checkStyle(a.getElement().getAttribute("style")):a.poll()},a.pollFreq)},a.prototype.listen=function(a){var b=this;"style"===a.attrName&&b.checkStyle(a.newValue)},a.prototype.checkStyle=function(a){var b=this,c=b.prevStyle!=b.getElement().getAttribute("style"),d=b.buildStyleFromString(a);for(prop in b.trigger)c=c&&"undefined"!=typeof d[prop]&&d[prop]==b.trigger[prop];c&&(b.callback(b),b.trackStyle()),b.isPolling&&b.poll()},a.prototype.isValid=function(){var a=this;return a.getElement()&&"object"==typeof a.trigger&&"function"==typeof a.callback&&"number"==typeof a.pollFreq&&a.pollFreq>0},a.prototype.isWebkit=function(){var a=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),b=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);return a||b},a.prototype.buildStyleFromString=function(a){var b={},c=a.split(";");for(i in c){var d=c[i],e=d.split(":");if(2==e.length){for(j in e)e[j]=e[j].replace(/^\s+|\s+$/g,"").toLowerCase();b[e[0]]=e[1]}}return b},a.prototype.getElement=function(){return this.element},a}();